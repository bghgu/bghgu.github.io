---
layout: post
title: "Mutable & Immutable"
description: "Mutable & Immutable"
date: 2019-04-03
tags: [자바]
comments: true
share: true
---

#### Mutable(뮤터블)
* 변경 가능 객체
* 상태를 바꿀 수 있는 객체
* 최초 생성 이후에도 자유롭게 값 변경 가능
* StringBuilder, StringBuffer

#### Immutable(이뮤터블)
* 변경 불가 객체(Heap 영역에서의 변경 불가)
* 상태를 바꿀 수 없는 객체
* 최초 생성 이후로는 값 변경 불가
* 재 할당은 가능
* String, Boolean, Integer, Float, Long...
* Multi Thread 환경에서 유용하다. (Thread Safe)

#### React가 화면을 업데이트 하는 과정
1. setState를 호출
2. shouldComponentUpdate를 실행했는데 false를 리턴하면 여기서 멈추고, true를 리턴하면 다음 단계로 이동
3. 가상 DOM과 실제 DOM을 비교해서 변경사항이 있으면 화면을 다시 그린다. React가 알아서 해준다.
* 컴포넌트에서 shouldComponentUpdate 함수를 구현하지 않으면 기본값으로 true를 리턴한다.
* 모든 컴포넌트에서 shouldComponentUpdate를 구현하는 것 보다는 프로그램 성능 이슈가 생겼을 때 문제가 되는 컴포넌트부터 shouldComponentUpdate를 구현하는 걸 추천한다
* 특정 컴포넌트가 업데이트 할 필요가 없다는 것을 판단하는 방법 : 컴포넌트가 갖고 있는 데이터(props, state)의 이전 이후 값을 완전히 비교, 그러나 이 방법은 느리다.
* 수정 불가능한 변수를 사용하면 변수의 레퍼런스만 비교하면 된다.