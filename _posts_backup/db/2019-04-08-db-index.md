---
layout: post
title: "인덱스"
description: "인덱스"
date: 2019-04-08
tags: [db, 인덱스]
comments: true
share: true
---

#### Index(인덱스)
* RDBMS에서 검색 속도를 높이기 위해 사용하는 기술이다.
* 색인
* 해당 테이블의 컬럼을 색인화(따로 파일로 저장)하여 검색 시 테이블 전체를 Full Scan 하는 것이 아니라 색인화 되어있는 index 파일을 검색하여 검색 속도를 빠르게 한다.
* B- 트리로 저장된다.
* index로 설정한 컬럼 값이 변경되거나 추가되면, 인덱스 역시 변경된다. 따라서 적절하게 인덱스를 설정해야 한다.
* 데이터의 삽입, 삭제가 빈번한 경우 index의 성능이 떨어진다. 매번 B-트리를 수정해야 하기 때문이다.
* index가 데이터베이스 공간을 차지하기 때문에 추가적인 공간이 필요하다.(10%)
* index를 생성하는데 시간이 많이 소요될 수 있다.
* SELECT의 WHERE / JOIN 시에만 인덱스가 사용되며 SELECT의 검색 속도를 빠르게 하는 것이 목적이다.
* WHERE의 타겟이 되는 컬럼을 인덱스로 만드는 것이 좋다.
* 데이터 중복도가 높은 컬럼은 인덱스로 만들어도 효과가 없다.
* 외래키가 사용되는 컬럼은 인덱스를 생성해 주는 것이 좋다.
* 사용하지 않는 인덱스는 제거하는 것이 좋다.
* 인덱스는 키 컬럼 순으로 정렬되어 있기 때문에 특정 값을 찾다가 해당 범위를 넘어서는 값을 만나면 멈춘다.(Range Scan)
* B- 트리를 사용하는 이유는 일관된 검색속도를 유지하기 위해서이다. B- 트리는 균형 트리이기 때문에 일정하고 빠른속도를 유지할 수 있다.

#### 조합 index
* 조합 인덱스가 단일 인덱스보다 많은 장점이 있지만 2개의 단일 인덱스 사용이 성능 상 더 좋다.
* 선택도가 좋지 않은 두 개 이상의 컬럼을 조합하여 선택도가 좋은 조합 인덱스가 된다.
* 질의 컬럼이 모두 조합 인덱스에 있는 경우, 물리적인 데이터 블록을 읽을 필요가 없다.
* AND 연산자에 의해 자주 같이 질의되는 컬럼들, 다수의 여러 개의 질의가 특정 컬럼들을 질의
* 자주 사용되는 컬럼들을 왼쪽, 동일한 사용 빈도이면 선택도가 좋은 것을 왼쪽에 배치하는 것이 좋다.