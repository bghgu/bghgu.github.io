---
layout: post
title:  "JSP"
date:   2020-01-17 17:11:00
author: bghgu
categories: WEB
tags: [WEB]
---

#### JSP(Java Server Page)
* 정적 페이지 요청(HTML, 이미지, 텍스트 파일 등에 대한 요청)은 웹 서버에서 해결한다.
* 동적 페이지 요청(JSP 페이지에 대한 요청)은 웹 서버에서 JSP 컨테이너로 다시 전달된다.
* 즉, JSP 페이지는 웹 컨테이너에 의해 실행된다.
* 웹 컨데이너 : JSP가 동작할 수 있도록 하는 일종의 서버

#### JSP 페이지의 내부적인 처리 방식
* 웹 브라우저 -> 웹 서버 -> JSP 컨테이너 -> .jsp -> .java -> .class -> 웹 서버 -> 웹 브라우저
* 클라이언트가 .jsp에 대한 요청을 웹 서버에 하게 된다.
* 웹 서버는 다시 이 요청을 JSP 컨테이너로 넘긴다.
* JSP 컨테이너는 해당 JSP 페이지를 찾아 서블릿(자바 파일/.java)로 변환 시킨다. 자바 파일을 컴파일 한다.
* 자바 파일의 결과가 다시 사용자의 웹 브라우저로 전송되어 클라이언트가 요청한 결과를 받아볼 수 있게 된다.
1. 사용자의 브라우저는 http://servername.../*.jsp 형태로 요청을 한다.
2. 웹 서버는 사용자의 요청을 JSP 컨테이너로 넘긴다.
3. 만일 JSP 파일이 처음 요청된 경우라면 JSP 파일을 파싱한다. (파싱 : JSP 파일이 오타나 논리적 오류가 없는지 자세하게 읽는 것) 그렇지 않은 경우라면 6번 단계로 간다.
4. JSP 파일로부터 서블릿이라는 자바 파일이 생성된다.
5. 서블릿 파일이 컴파일 과정을 거쳐 클래스 파일로 된다.
6. 클래스 파일이 메모리에 적재되어 실행된다.
7. 실행 결과가 웹 서버에 넘겨져 웹 서버는 HTML 형태로 사용자에게 응답을 전송한다.
8. HTML 형태의 페이지를 브라우저에 실행시켜 사용자가 웹 페이지를 확인할 수 있다.

#### JSP의 생명 주기
* init() -> service() -> destory() / 초기화 -> 요청 처리 -> 소멸
* 초기화 단계에서 초기화 작업 진행 후, 요청 처리 단계에서 실제로 사용자의 요청을 처리한다.
* 처리한 결과를 응답으로 생성한 후, 소멸 단계를 거쳐 필요했던 모든 자원을 해제하는 방식을 가진다.