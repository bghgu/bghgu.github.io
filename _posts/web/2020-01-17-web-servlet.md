---
layout: post
title:  "Servlet"
date:   2020-01-17 17:28:00
author: bghgu
categories: WEB
tags: [WEB]
---

#### Servlet 서블릿
* Java를 사용하여 웹 페이지를 동적으로 생성하는 서버측 프로그램을 말한다.
* 웹 서버의 성능을 향상하기 위해 사용되는 자바 클래스의 일종이다.
* JSP와 비슷한 점이 있지만, JSP가 HTML에 Java 코드를 포함하고 있는 반면 Servlet은 Java 코드에 HTML을 포함하고 있다.
* 외부 요청마다 Thread로 응답한다.
* Java로 구현되기 때문에 다양한 플랫폼에서 동작한다.

#### 서블릿의 동작 원리
* 톰캣이 구동되면 JVM이 구동되어 자바 문법을 따르는 서블릿을 처리할 수 있는 환경을 제공하여 서블릿 컨테이너라는 별칭이 생겼다.
1. 브라우저에 서블릿을 요청한다.
2. WAS안에 웹 서버가 서블릿 요청을 인식하여 서블릿 컨테이너에게 서블릿을 수행하도록 넘겨준다.
3. 서블릿은 스레드를 기동하여 해당 서블릿 객체를 생성하여 이를 수행한다.
4. 서블릿 객체의 작업이 종료되면 기동되었던 스레드가 종료된다.
5. 서블릿 수행 결과가 웹 서버에 전송된다.
6. 이를 클라이언트에게 전송하게 된다.

#### 서블릿 생명 주기
* 서블릿이 다른 웹 기술보다 주목을 받게 된 이유는 수행 속도가 빠르다는 점 때문이다.
* 두 번째 이상의 요청이 첫 번째 요청인 경우와 다르게 처리되기 때문이다.
* 서블릿이 첫 번째 요청인 경우에는 서블릿 클래스를 찾아 메모리에 로딩하여 인스턴스(객체)를 생성한다.
* 이때 생성된 서블릿 인스턴스는 메모리에 계속 남아 있게 되므로 이후부터는 서블릿이 호출되어도 서블릿 인스턴스가 다시 생성되지 않고 이미 메모리에 로딩된 서블릿으로부터 서비스만 받기 때문에 수행 속도가 빠르다.
* 반면에 PHP나 ASP는 요청될 때마다 인터프리터 방식으로 코드가 재해석되기 때문에 수행 속도가 느리다.
1. 인스턴스 생성 : 서블릿 객체 생성
2. init() : 최초로 한번만 호출, 초기화 작업 실행
3. doGet(), doPost() : 요청될 때마다 호출, 여러 클라이언트가 동시에 요청을 하더라도 스레드가 생성되므로 수행 속도가 빠르다.
4. destory() : 톰캣 해제시 자원 해제