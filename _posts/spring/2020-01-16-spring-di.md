---
layout: post
title:  "Spring DI"
date:   2020-01-16 15:13:00
author: bghgu
categories: Spring
tags: [Spring]
---

#### Spring DI(Dependency Injection) 의존성 주입
* 객체 자체가 아니라 프레임워크에 의해 객체의 의존성이 주입되는 설계 패턴이다.
* 프레임워크에 의해 동적으로 주입되므로 여러 객체 간의 결합이 줄어든다.
* DI는 스프링 프레임워크에서 지원하는 IoC의 형태이다.
* 의존성 주입과 제어의 역전은 같은 의미로 사용된다.
* IoC는 DI를 통해 달성된다.
* IoC : 프로그램 제어권을 프레임워크가 가져가는 것이다.
    * 개발자가 모든 제어의 중심이지만 코드 전체에 대한 제어는 프레임워크가 한다.
    * 개발자가 설정만 하면 컨테이너가 알아서 처리한다.
* 인스턴스를 자신이 아닌 IoC 컨테이너에서 생성 후 주입한다.
* 내부적으로 new 키워드를 사용하지 않고 setter나 constructor를 이용한다.
* 기능이 변경 될 때마다 코드를 변경하는 것은 비용이 많이 들게 되므로 가급적 코드의 변화가 적어지도록 프로그램을 작성하기 위해 탄생했다.
* 모듈 간 결합도를 낮춰서 유연한 변경을 가능하도록 한다.
* 불필요한 의존 관계를 없애거나 줄일 수 있다.
* 각 객체를 bean 컨테이너로 관리한다.
* IoC를 구현하는 한 가지 방법이 DI이다.

#### 의존성 주입 방법
1. Constructor Injection
    * 생성자를 통한 전달
2. Method(Setter) Injection
    * setter을 통한 전달
3. Field Injection
    * 멤버 변수를 통한 전달

#### 장점
1. Reduced Dependencies
    * 종속성이 감소한다.
    * 컴포넌트의 종속성이 감소하면 변경에 민감하지 않다.
2. More Reusable Code
    * 재사용성이 증가한다.
    * 일부 인터페이스의 다른 구현이 필요한 경우, 코드를 변경할 필요 없이 해당 구현을 사용하도록 컴포넌트를 구성할 수 있다.
3. More Testable Code
    * 더 많은 테스트 코드를 만들 수 있다.
    * Mock 객체는 실제 구현의 테스트로 사용되는 객체
        * 종속성을 컴포넌트에 주입할 수 있는 경우 이러한 종속성의 Mock 구현을 주입할 수 있다.
        * Mock 객체가 올바른 객체를 반환할 때, null을 반환할 때, 예외가 발생할 때 모두 처리한다.
4. More Readable Code
    * 코드를 읽기 쉬워진다.
    * components의 종속성을 보다 쉽게 파악할 수 있으므로 코드를 쉽게 읽을 수 있다.