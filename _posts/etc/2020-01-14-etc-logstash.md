---
layout: post
title:  "Logstash 로그스태시"
date:   2020-01-14 17:08:00
author: bghgu
categories: ETC
tags: [ETC]
---

#### Logstash 로그스태시
* 데이터 집계, 변환, 저장
* 오픈소스 데이터 수집 엔진이다.
* 실시간 파이프라인 기능을 가지고 있다.
* 다양한 입력차원에서 데이터를 수집 및 분석, 가공 및 통합해 다양한 목적지에 저장하는 파이프라인을 쉽게 구축할 수 있다.

#### 로그 스태시 구성
* input, filter, output : 입력, 필터, 출력 세 가지 단계로 구성된다.
* 여러 원천데이터를 가져와 필터를 통해 가공하여 하나 이상의 시스템으로 내보낼 수 있다.
* 입력은 여러 원천 데이터가 될 수 있고, 필터 또한 하나 이상을 정의하여 가공할 수 있다.
* 

### 입력, 필터, 출력
* 로그스태시는 형식이나 복잡성과 관계 없이 데이터를 동적으로 수집, 전환, 전송한다.
* grok을 이용해 비구조적 데이터에서 구조를 도출하여 IP 주소에서 위치 정보 좌표를 해독하고, 민감한 필드를 익명화하거나 제외시키며, 전반적인 처리를 손쉽게 해준다.

#### 입력
* 모든 소스, 사이즈, 형태의 데이터 수집
* 데이터는 여러 시스템에 다양한 형태로 보관된 경우가 많다.
* 로그스태시는 다양한 입력 지원을 통해 여러가지 공통 소스에서 이벤트를 동시에 가져오며, 모든 로그와 메트릭, 웹 애플리케이션, 데이터 저장소, 다양한 AWS 서비스를 연속 스트리밍 형태로 간편하게 수집할 수 있다.

#### 필터
* 데이터 이동 과정에서의 구문 분석 및 변환
* 로그스태시 필터는 데이터가 소스에서 저장소로 이동하는 과정에서 각 이벤트를 구문 분석하고 명명된 필드를 식별하여 구조를 구축하며, 이를 공통 형식으로 변환 통합하여 분석을 보다 빠르고 용이하게 만드는 동시에 비즈니스 가치를 높여준다.
* grok을 통해 비정형 데이터에서 구조 도출
* IP 주소에서 위치 좌표 해독
* PII 데이터의 익명화, 민감한 정보 필드 완전 제외
* 데이터 소스나 형태, 스키마의 용이한 처리
* 로그스태시의 광범위한 필터 라이브러리는 무한한 활용 가능성을 지니고 있다.

#### 출력
* 저장소를 선택하여 데이터 전송
* 엘라스틱서치는 검색과 분석의 새로운 세계를 열어주는 시스템이지만, 그것만이 유일한 선택지는 아니다.
* 로그스태시는 원하는 곳으로 데이터를 라우팅할 수 있는 다양한 출력을 지원하기 때문에 여러 저장소로 데이터를 다운스트림하는 유연성을 확보할 수 있다.

#### 확장성
* 로그스태시에는 플러그인으로 확장 가능한 200개 이상의 플러그인 프레임워크가 포함되어 있으며, 다양한 입력과 필터, 출력을 자유롭게 조절할 수 있다.
* 로그스태시 플러그인은 누구나 간단하게 구축할 수 있다.
* 로그스태시가 지원하는 플러그인 개발용 API와 플러그인 생성기로 고유한 플러그인을 생성하고 공유할 수 있다.

#### 참고
* https://www.elastic.co/kr/products/logstash
* https://coding-start.tistory.com/189