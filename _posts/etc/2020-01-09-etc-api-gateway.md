---
layout: post
title:  "API Gateway"
date:   2020-01-09 23:45:00
author: bghgu
categories: ETC
tags: [ETC, API Gateway]
---

#### API Gateway
* 공개적으로 클라이언트에게 공개되어야 하는 실제 유입점이다.
* 플랫폼 입장에서 기능 정의와 명세를 해야한다.
* API Gateway는 각 컴포넌트가 어떤 구성, 어떤 스키마 등 내용을 알 필요가 없다. 오직 기능만 알고 있으면 된다.
* 각 컴포넌트에선 API Gateway에게 기능만 알려주면 될 정도로 기능이 명확해야 한다.
* 오직 API Gateway를 통해서만 정보를 얻는다.
* 그 내부가 어떤 구조, 어떤 통신, 스키마 설계 등은 중요하지도 알 필요도 없다.
* 내부를 생각하는 것 보단 외부에서 볼 때 어떤 의미로 나뉘는지가 중요하다. 그렇지 않으면 쓸 필요가 없다.

#### API Gateway 왜?
* 여러 개의 서비스에서 데이터를 조합해서 사용해야 될 때의 문제
* 엔드 포인트 관리의 문제
* 적정한 서비스 단위를 규정하는 문제
* 인증/인가 로직을 서비스마다 구현해야 하는 문제
* 진입점 일치로 인한 인증/인가 처리의 유연함
* 통계/로그 기록이 편해지는 장점
* 과도한 트래픽 방지를 위한 레이트 리미트 제어
* 공통적으로 처리해야 할 작업
* 로드 밸런싱

#### 단점
* API Gateway의 장애는 모든 시스템의 장애로 이어진다. - 단일 장애점
* 하나의 진입점이 장점이자 단점이다.
* 유지 보수의 대상이다.
* 각 서비스의 API를 수정하면 API Gateway를 수정해야 할 수도 있다.

#### 기능
* 인증 & 인가
* 모니터링
* 대용량 요청 처리 시 부하 분산
* 스로틀링
* 요청에 대한 제어
* 통계랑 측정
* 로깅 메시징
* 통합
* 조정