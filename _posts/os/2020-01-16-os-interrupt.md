---
layout: post
title:  "Interrupt 인터럽트"
date:   2020-01-16 20:02:00
author: bghgu
categories: OS
tags: [OS]
---

#### Interrupt 인터럽트
* 프로세스가 실행 중에 예기치 못한 상황이 발생하여 실행 중이던 프로세스를 더는 실행하기 힘들거나 먼저 처리해야 할 급한 일이 생긴 경우 인터럽트가 발생했다고 한다.
* CPU의 정상적인 프로그램 실행을 방해했다는 의미이다.
* 인터럽트가 발생하면 실행 중이던 프로세스가 CPU의 사용을 멈추고 인터럽트 처리가 된 후 다시 CPU를 점유하게 된다.
* 인터럽트 처리 루틴 : 인터럽트 발생 시점부터 인터럽트 처리가 종료되는 시점까지이다.
* 인터럽트 서비스 루틴 : 인터럽트 처리를 시작하는 시점부터 인터럽트 처리가 종료되는 시점까지이다.

#### 내부 인터럽트
1. 하드웨어 고장
    * 컴퓨터 고장
    * 데이터 전달 과정에서의 비트 오류
    * 전원이 나간 경우
2. 실행할 수 없는 명령어 : 기억장치에서 인출한 명령어의 비트 패턴이 정의되어 있지 않은 경우
3. 명령어 실행 오류 : 나누기 0을 하는 경우
4. 사용 권한 위배 : 사용자가 운영체제만 사용할 수 있는 자원에 접근하는 경우

#### 외부 인터럽트
* 주로 입출력 장치에 의해 발생한다.
1. 타이머 인터럽트 : 타이머가 일정한 시간 간격으로 중앙처리장치에 인터럽트를 요청
2. 입출력 인터럽트 : 속도가 느린 입출력 장치가 입출력 준비가 완료됐음을 알리기 위해 인터럽트를 요청

#### 인터럽트 동작 순서
1. 인터럽트 요청
2. 프로그램 실행 중단 : 현재 실행 중이던 명령어까지 수행한다.
3. 현재의 프로그램 상태 보존 : PCB
4. 인터럽트 처리 루틴 실행 : 인터럽트를 요청한 장치를 식별한다.
5. 인터럽트 서비스 루틴 실행
    * 인터럽트 원인을 파악하고 실질적인 작업을 수행한다.
    * 처리기 레지스터 상태를 보존한다.
    * 서비스 루틴 수행 중 우선순위가 더 높은 인터럽트가 발생하면 또 재귀적으로 단계를 수행한다.
6. 상태 복구 : 인터럽트 발생 시 저장해둔 PCB를 복구한다.
7. 중단된 프로그램 실행 재개 : PCB를 이용하여 이전에 수행 중이던 프로그램을 재개한다.